{
  "extends": ["next"],
  "rules": {},
  "overrides": [
    {
      "files": ["src/client/**/*"],
      "rules": {
        "no-restricted-imports": [
          "error",
          {
            "paths": [
              { "name": "@server/*", "message": "客户端代码不得依赖服务端模块" },
              { "name": "next/*", "message": "客户端代码不得直接使用 next/server API" }
            ],
            "patterns": [
              { "group": ["src/server/*", "src/core/db/*", "src/core/security/*"], "message": "客户端禁止引用服务端/基础设施实现" }
            ]
          }
        ]
      }
    },
    {
      "files": ["src/server/**/*"],
      "rules": {
        "no-restricted-imports": [
          "error",
          {
            "patterns": [
              { "group": ["@client/*", "src/client/*", "src/core/state/*", "src/core/storage/*"], "message": "服务端禁止引用客户端模块" }
            ]
          }
        ]
      }
    },
    {
      "files": ["src/shared/**/*"],
      "rules": {
        "no-restricted-imports": [
          "error",
          {
            "patterns": [
              { "group": ["@server/*", "@client/*", "src/server/*", "src/client/*"], "message": "shared 仅承载类型与纯函数，不得依赖运行时实现" }
            ]
          }
        ]
      }
    }
  ]
}